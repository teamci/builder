version: "v1.0"
name: First pipeline example
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804

blocks:
  - name: "Test"
    task:
      prologue:
        commands:
          - git clone https://github.com/sstephenson/bats.git
          - cd bats
          - sudo ./install.sh /usr/local
          - checkout
      jobs:
        - name: Pipeline Tests
          commands:
            - make test-pipeline
        - name: Lint Tests
          commands:
            - make test-lint
        - name: Acceptance Tests
          commands:
            - sudo make test-acceptance
